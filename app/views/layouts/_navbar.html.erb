<nav class="navbar navbar-expand-lg shadow navbar-dark fixed-top" id="mainNav">

  <div class="container">
    <!-- navbar brand section and toggle section -->
    <%= link_to "Visible Elegance", root_path, class: "navbar-brand  js-scroll-trigger font-weight-bold " %>
    <button class="navbar-toggler navbar-toggler-right mr-2" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">

    <!-- custom navbar links for welcome page only   -->
      <ul class="navbar-nav text-uppercase ml-auto">
        <% if controller_name == "welcome" %>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#services">Services</a>
        </li>

        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#team">Team</a>
        </li>
        <% end %>

     <!-- link to reservations section and contact page    -->
        <li class="nav-item">
          <%= link_to "contact", contact_us_path, class: "nav-link"%>
        </li>

     <!-- custom links if logged in    -->
        <% if logged_in? %>

          <!-- admin or operator custom links-->
          <% if current_user.admin? || current_user.operator? %>
            <li class='nav-item'>
              <% if pending_reservations > 0 %>
                <span class="badge badge-notify">
                  <% if pending_reservations < 10 %><%= pending_reservations %><% else %> 9+ <% end %> </span> 
              <% end %>
            <%= link_to "Reservations", reservations_path, class: 'nav-link' %>
              <!-- <a href='#{reservations_index}' class='nav-link'>Search</a> -->
            </li>
            <li class="nav-item">
              <%= link_to "Schedule", schedule_path, class: 'nav-link' %>
            </li>
          <% end %>
          <%= admin_status %>
          <!--  end admin or operator custom links-->

          <li class="nav-item">
            <%= link_to 'Sign out', logout_path, class: "nav-link", method: :delete %>
          </li>

          <!-- user avatar section  -->
          <% if current_user.avatar? %>
            <li class="nav-item user-avatar"> 
                <%= link_to image_tag(current_user.avatar_url,class: 'rounded-circle nav-img',width: '30', height: '30'), current_user, class: "nav-link"%>
            </li>
          <% else %>
            <li class="nav-item"> 
                <%= link_to current_user.first_name, current_user, class: "nav-link"%>
            </li>
          <% end %>
        <!-- while logged out -->  
        <% else %> 
          <% if controller_name != "users" %>
          <li class="nav-item">
            <a href="#" data-target="#sign-up" data-toggle="modal" class="nav-link">Sign Up</a>
          <% end %>
          </li>
          <li class="nav-item">
            <a href="#" data-target="#sign-in" data-toggle="modal" class="nav-link">Sign In</a>
          </li>   
        <% end %>
      </ul>
    </div>
  </div>
</nav>